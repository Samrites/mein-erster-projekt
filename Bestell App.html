
  <!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bestell App</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <style>
    :root{
      --orange:#ef7d1a; --muted:#6b7280; --border:#e5e7eb;
      --bg:#f4fbff; --card:#fff; --accent:#10b981;
      --shadow:0 16px 40px rgba(0,0,0,.08);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:var(--bg); color:#1f2937;
    }
    :focus-visible{outline:2px solid var(--orange); outline-offset:2px}

    .wrap{max-width:1000px; margin:24px auto; padding:0 16px}
    .card{background:var(--card); border-radius:20px; overflow:hidden; box-shadow:var(--shadow)}

    .topbar{background:var(--orange); color:#fff; padding:14px 18px}
    .brand{display:flex; align-items:center; gap:10px; font-weight:700}
    .brand img{width:22px; height:22px; object-fit:contain}

    .hero{position:relative; height:200px; overflow:hidden}
    .hero img{width:100%; height:100%; object-fit:cover}

    .info{
      position:relative; background:#fff; border-top:1px solid #fff;
      padding:36px 18px 18px; text-align:center;
    }
    .logoCircle{
      position:absolute; left:50%; top:-44px; transform:translateX(-50%);
      width:88px; height:88px; border-radius:50%; border:6px solid #fff; background:#fff;
      display:flex; align-items:center; justify-content:center; overflow:hidden; box-shadow:var(--shadow);
    }
    .logoCircle img{width:100%; height:100%; object-fit:contain; border-radius:50%}
    .rating{color:#e47e2a; margin:6px 0 10px; font-size:14px}

    .catbar{display:flex; gap:12px; justify-content:center; flex-wrap:wrap}
    .catbar a{padding:8px 12px; border:1px solid var(--border); border-radius:999px; background:#fff; color:#111; text-decoration:none; font-size:14px}

    .banner{padding:10px 18px}
    .banner img{width:100%; height:120px; object-fit:cover; border-radius:12px}

    .grid{display:grid; grid-template-columns:1fr 320px; gap:20px; padding:8px 18px 18px}
    @media (max-width:980px){ .grid{grid-template-columns:1fr} }

    .section{padding:0 0 8px}
    .section h3{margin:12px 0 8px}
    .dish{
      display:flex; justify-content:space-between; align-items:center; gap:12px;
      padding:12px; border:1px solid var(--border); border-radius:12px; background:#fff;
    }
    .dish + .dish{margin-top:10px}
    .dish h4{margin:0 0 4px}
    .dish p{margin:0; color:var(--muted); font-size:14px}
    .price{margin-top:4px; font-weight:600; color:#111}
    .add{
      width:28px; height:28px; border:1px solid var(--border); border-radius:8px;
      background:#fff; cursor:pointer; font-size:18px; line-height:26px;
    }

    .cart{background:#fff; border:1px solid var(--border); border-radius:14px; padding:14px}
    .aside{position:sticky; top:24px; height:max-content}
    .list{display:flex; flex-direction:column; gap:10px; max-height:280px; overflow:auto}
    .row{
      display:flex; align-items:center; gap:8px;
      border:1px solid var(--border); padding:8px; border-radius:10px; background:#fff;
    }
    .row .t{flex:1}
    .qty{display:flex; gap:6px; align-items:center}
    .qty button{
      width:24px; height:24px; border:1px solid var(--border);
      background:#fff; border-radius:6px; cursor:pointer;
    }
    .sum{margin-top:10px; border-top:1px dashed var(--border); padding-top:10px}
    .line{display:flex; justify-content:space-between; margin-top:6px}
    .delivery{display:flex; gap:8px; align-items:center; margin-bottom:6px}
    .btn{border:1px solid transparent; border-radius:10px; padding:8px 12px; cursor:pointer; font:inherit}
    .btn-success{background:var(--accent); color:#fff}
    .msg{
      margin-top:10px; color:#065f46; background:#ecfdf5; border:1px solid #a7f3d0;
      padding:8px; border-radius:10px; display:none
    }

    .openCart{display:none}
    @media (max-width:980px){ .aside{display:none} .openCart{display:inline-flex; margin:0 18px 18px auto} }
    dialog.drawer{width:min(640px,100%); border:0; border-radius:14px; padding:0}
    dialog.drawer::backdrop{background:rgba(0,0,0,.35)}
    .drawerHead{display:flex; justify-content:space-between; align-items:center; padding:12px 14px; border-bottom:1px solid var(--border)}

    .footer{
      margin:12px 0 0; padding:16px 18px; background:#fff;
      border-top:1px solid var(--border); color:#6b7280; font-size:14px;
      border-radius:0 0 20px 20px;
    }
    .footer a{ color:inherit; text-decoration:none; border-bottom:1px dotted var(--border) }
    .footer .cols{ display:grid; gap:12px; grid-template-columns:1fr 1fr; }
    @media (max-width:600px){ .footer .cols{ grid-template-columns:1fr } }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="topbar">
        <div class="brand">
          <img src="favicon.ico" alt="Logo">
          <span>Bestell App</span>
        </div>
      </div>

      <!-- Hero (dein Bildname mit Leerzeichen) -->
      <div class="hero"><img src="food bild1.jpg" alt="Großes Food-Foto (Hero)"></div>

      <div class="info">
        <div class="logoCircle"><img src="Material/Logo/Logo.png" alt="Restaurant Logo"></div>
        <h2 style="margin:8px 0 4px">Paradise Noodles</h2>
        <div class="rating" aria-label="Bewertung 4,2 von 5 Sternen">★★★★☆ <span style="font-size:13px;color:#6b7280">(4,2)</span></div>
        <p style="margin:6px 0 10px; color:#6b7280">Japanische Nudelgerichte, Suppen & Snacks – frisch und schnell.</p>
        <p style="margin:0 0 12px; color:#111; font-size:14px">Lieferzeit: 30–40 min · Lieferkosten: 2,50 € · Mindestbestellwert: 10 €</p>
        <nav id="catbar" class="catbar" aria-label="Kategorien"></nav>
      </div>

      <!-- Banner (dein Bildname mit Leerzeichen) -->
      <div class="banner"><img src="food 2.jpg" alt="Kategorie-Banner" loading="lazy"></div>

      <div class="grid">
        <main id="menuRoot" aria-live="polite"></main>

        <aside class="aside cart" aria-label="Warenkorb">
          <h3>Warenkorb</h3>
          <div id="cartList" class="list"></div>
          <div class="sum">
            <label class="delivery"><input type="checkbox" id="ship"> Lieferkosten (2,50 €)</label>
            <div class="line"><span>Zwischensumme</span><strong id="subtotal">0,00 €</strong></div>
            <div class="line"><span>Gesamt</span><strong id="total">0,00 €</strong></div>
            <button id="orderBtn" class="btn btn-success" disabled>Bestellen</button>
          </div>
          <div id="confirmMsg" class="msg" aria-live="polite"></div>
        </aside>
      </div>

      <div style="text-align:right">
        <button id="openDrawerBtn" class="btn openCart">Warenkorb öffnen</button>
      </div>

      <footer class="footer" role="contentinfo">
        <div class="cols">
          <div>
            <strong>Paradise Noodles</strong><br>
            Noodle Street 12, 12345 Musterstadt<br>
            Tel: 01234 / 567890
          </div>
          <div>
            <a href="#">Impressum</a> · <a href="#">Datenschutz</a> · <a href="#">Kontakt</a>
          </div>
        </div>
        <div style="margin-top:10px">© <span id="y"></span> Paradise Noodles</div>
      </footer>
    </div>
  </div>

  <dialog id="drawer" class="drawer cart">
    <div class="drawerHead">
      <strong>Warenkorb</strong>
      <form method="dialog"><button class="btn" aria-label="Schließen">✕</button></form>
    </div>
    <div style="padding:12px">
      <div id="mCartList" class="list"></div>
      <div class="sum">
        <label class="delivery"><input type="checkbox" id="mShip"> Lieferkosten (2,50 €)</label>
        <div class="line"><span>Zwischensumme</span><strong id="mSubtotal">0,00 €</strong></div>
        <div class="line"><span>Gesamt</span><strong id="mTotal">0,00 €</strong></div>
        <button id="mOrderBtn" class="btn btn-success" disabled>Bestellen</button>
      </div>
      <div id="mConfirmMsg" class="msg" aria-live="polite"></div>
    </div>
  </dialog>

  <script>
    /* ========= Daten ========= */
    const MENU = [
      { id:"haupt", title:"Hauptgerichte", items:[
        { id:"pizza",  title:"Pizza Krabben",  desc:"mit Krabben und Peperoni", price: 9.90 },
        { id:"ramen",  title:"Ramen Classic",  desc:"Miso-Brühe, Ei, Pak Choi",  price:12.90 },
        { id:"udon",   title:"Udon Suppe",     desc:"mit Gemüse",               price:10.50 }
      ]},
      { id:"beilage", title:"Beilage", items:[
        { id:"edamame", title:"Edamame", desc:"mit Meersalz",   price:4.50 },
        { id:"kimchi",  title:"Kimchi",  desc:"leicht scharf",  price:4.90 },
        { id:"gyoza",   title:"Gyoza",   desc:"5 Stk., Gemüse", price:5.90 }
      ]},
      { id:"getraenke", title:"Getränke", items:[
        { id:"cola",   title:"Cola 0,33l",   desc:"kohlensäurehaltig", price:2.50 },
        { id:"wasser", title:"Wasser 0,5l",  desc:"still",             price:1.90 },
        { id:"tee",    title:"Grüntee 0,4l", desc:"heiß",              price:2.20 }
      ]}
    ];

    /* ========= Utils ========= */
    const $  = (s,el=document)=>el.querySelector(s);
    const €  = (n)=>n.toFixed(2).replace(".",",")+" €";
    const getDish = (id)=>MENU.flatMap(g=>g.items).find(d=>d.id===id);

    /* ========= State ========= */
    const state = { items:{}, shipping:false };

    /* ========= Templates ========= */
    const dishCardTemplate = (it) => `
      <article class="dish">
        <div>
          <h4>${it.title}</h4>
          <p>${it.desc}</p>
          <p class="price">${€(it.price)}</p>
        </div>
        <button class="add" data-id="${it.id}" aria-label="${it.title} hinzufügen">+</button>
      </article>
    `;
    const sectionTemplate = (g) => `
      <section class="section" id="${g.id}">
        <h3>${g.title}</h3>
        ${g.items.map(dishCardTemplate).join("")}
      </section>
    `;
    const cartRowTemplate = (id, it) => `
      <div class="row">
        <div class="t">${it.title}</div>
        <div class="qty">
          <button data-act="dec" data-id="${id}" aria-label="Menge verringern">−</button>
          <span>${it.qty}</span>
          <button data-act="inc" data-id="${id}" aria-label="Menge erhöhen">+</button>
        </div>
        <strong>${€(it.price*it.qty)}</strong>
        <button data-act="del" data-id="${id}" class="btn" aria-label="${it.title} entfernen">Löschen</button>
      </div>
    `;

    /* ========= Menü & Kategorien ========= */
    function renderCategories(){
      $("#catbar").innerHTML = MENU.map(g=>`<a href="#${g.id}">${g.title}</a>`).join("");
    }
    function renderMenu(){
      renderCategories();
      const root = $("#menuRoot");
      root.innerHTML = MENU.map(sectionTemplate).join("");
      root.addEventListener("click",(e)=>{
        const addBtn = e.target.closest(".add");
        if(addBtn) addItem(addBtn.dataset.id);
      });
    }

    /* ========= Warenkorb ========= */
    function addItem(id){
      const d = getDish(id); if(!d) return;
      const cur = state.items[id] || { title:d.title, price:d.price, qty:0 };
      cur.qty += 1; state.items[id] = cur; renderAll();
    }
    function changeQty(id,delta){
      const it = state.items[id]; if(!it) return;
      it.qty += delta; if(it.qty<=0) delete state.items[id]; renderAll();
    }
    function setShipping(on){
      state.shipping = on;
      $("#ship").checked = on; $("#mShip").checked = on;
      renderAll();
    }
    function totals(){
      const sub = Object.values(state.items).reduce((s,i)=>s + i.price*i.qty, 0);
      return { sub, total: sub + (state.shipping ? 2.5 : 0) };
    }

    function renderList(container){
      container.innerHTML = "";
      const ids = Object.keys(state.items);
      if(!ids.length){ container.innerHTML = '<p style="color:#6b7280;margin:0">Warenkorb leer</p>'; return; }
      ids.forEach(id=> container.insertAdjacentHTML("beforeend", cartRowTemplate(id, state.items[id])));
    }

    function renderSummary(prefix){
      const { sub, total } = totals();
      $(prefix+"Subtotal").textContent = €(sub);
      $(prefix+"Total").textContent    = €(total);
      $(prefix+"OrderBtn").disabled    = Object.keys(state.items).length === 0;
      updateOpenCartButton();
    }

    function renderAll(){
      renderList($("#cartList"));
      renderList($("#mCartList"));
      renderSummary("#");
      renderSummary("#m");
    }

    function updateOpenCartButton(){
      const { total } = totals();
      const btn = $("#openDrawerBtn");
      btn.textContent = Object.keys(state.items).length ? `Warenkorb öffnen (${€(total)})` : 'Warenkorb öffnen';
    }

    /* ========= Events ========= */
    document.addEventListener("click",(e)=>{
      const ctrl = e.target.closest("[data-act]");
      if(!ctrl) return;
      const { act, id } = ctrl.dataset;
      if(act==="inc") changeQty(id, +1);
      if(act==="dec") changeQty(id, -1);
      if(act==="del"){ delete state.items[id]; renderAll(); }
    });

    $("#ship").addEventListener("change", e=>setShipping(e.target.checked));
    $("#mShip").addEventListener("change", e=>setShipping(e.target.checked));

    function showConfirm(idSel){
      const { total } = totals();
      const itemsText = Object.values(state.items).map(i=>`${i.title} x${i.qty}`).join(", ");
      const box = $(idSel);
      if(itemsText){
        box.textContent = `Danke! Bestellung: ${itemsText}. Gesamt: ${€(total)}.`;
        box.style.display = "block";
      }else{
        box.textContent = "";
        box.style.display = "none";
      }
    }

    $("#orderBtn").addEventListener("click", ()=>{
      showConfirm("#confirmMsg");
      state.items = {}; setShipping(false); renderAll();
    });

    $("#mOrderBtn").addEventListener("click", ()=>{
      showConfirm("#mConfirmMsg");
      state.items = {}; setShipping(false); renderAll();
      $("#drawer").close();
    });

    $("#openDrawerBtn").addEventListener("click", ()=>$("#drawer").showModal());

    /* Start */
    document.getElementById('y').textContent = new Date().getFullYear();
    renderMenu();
    renderAll();
  </script>
</body>
</html>